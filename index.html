<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HLD Master Study Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom checkbox styles for a better look */
        .custom-checkbox:checked + div {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        .custom-checkbox:checked + div svg {
            display: block;
        }
        .item-text {
            transition: all 0.2s ease;
        }
        .checked-text {
            text-decoration: line-through;
            color: #9ca3af;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased pb-20">

    <!-- Sticky Header & Progress Bar -->
    <div class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200 shadow-sm px-4 py-4">
        <div class="max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div>
                <h1 class="text-2xl font-bold text-slate-900">HLD Master Study Plan</h1>
                <p class="text-sm text-slate-500">Target: Product-Based Roles | Timeline: 8-12 Weeks</p>
            </div>
            <div class="w-full md:w-64">
                <div class="flex justify-between text-sm mb-1 font-medium">
                    <span class="text-slate-600">Progress</span>
                    <span id="progress-text" class="text-blue-600">0%</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2.5">
                    <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 py-8 space-y-8" id="checklist-container">
        
        <!-- Section 1 -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <h2 class="text-xl font-bold text-slate-800 border-b border-slate-100 pb-2 mb-2">1. Introduction to System Design Interview</h2>
            <p class="text-sm text-slate-500 italic mb-4">Focus: Setting the right mindset and understanding the interview format.</p>
            <ul class="space-y-3">
                <!-- Items injected via JS for cleaner code and easy ID management, keeping exact text -->
            </ul>
        </section>

        <!-- Section 2 -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <h2 class="text-xl font-bold text-slate-800 border-b border-slate-100 pb-2 mb-2">2. Glossary of System Design Basics</h2>
            <p class="text-sm text-slate-500 italic mb-4">Focus: The foundational building blocks of distributed systems.</p>
            <ul class="space-y-3"></ul>
        </section>

        <!-- Section 3 -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <h2 class="text-xl font-bold text-slate-800 border-b border-slate-100 pb-2 mb-2">3. System Design Trade-offs (Crucial for Senior/Product Roles)</h2>
            <p class="text-sm text-slate-500 italic mb-4">Focus: Demonstrating maturity by picking the right tool for the specific job.</p>
            <ul class="space-y-3"></ul>
        </section>

        <!-- Section 4 -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
            <h2 class="text-xl font-bold text-slate-800 border-b border-slate-100 pb-2 mb-2">4. System Design Problems</h2>
            <p class="text-sm text-slate-500 italic mb-4">Focus: Applying the basics and trade-offs to real-world architectures.</p>
            <ul class="space-y-3"></ul>
        </section>

        <!-- Actionable Tips -->
        <section class="bg-blue-50 rounded-xl shadow-sm border border-blue-100 p-6 mt-10">
            <h2 class="text-lg font-bold text-blue-900 mb-4 flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                üõ†Ô∏è Tech Lead's Actionable Tips
            </h2>
            <ul class="space-y-3 text-blue-800 text-sm list-decimal pl-5 marker:font-bold">
                <li><strong>Don't Rush the Trade-offs:</strong> Section 3 is what separates mid-level from senior engineers. Spend significant time here.</li>
                <li><strong>Master the Template:</strong> Once you hit Section 4, use the "System Design Master Template" for every single problem before looking at the solution.</li>
                <li><strong>Vocalize:</strong> Talk to a wall, record yourself, or use a whiteboard. HLD interviews evaluate <em>how</em> you communicate complex ideas just as much as your technical knowledge.</li>
            </ul>
        </section>

        <!-- Reset Button -->
        <div class="text-center pt-8 border-t border-slate-200">
            <button id="reset-btn" class="text-sm text-red-500 hover:text-red-700 hover:underline transition-colors px-4 py-2">
                Reset All Progress
            </button>
        </div>

    </main>

    <script>
        // Data derived exactly from the provided markdown document
        const studyData = [
            [ // Section 1
                "<strong>What is a System Design Interview?</strong> (Scalability, architecture decisions, trade-offs)",
                "<strong>Functional vs. Non-functional Requirements</strong>",
                "<strong>What are Back-of-the-Envelope Estimations?</strong> (Quick calculations for scale/performance)",
                "<strong>Things to Avoid During System Design Interview</strong> (Skipping trade-offs, rigid thinking)"
            ],
            [ // Section 2
                "<strong>System Design Basics</strong>",
                "<strong>Key Characteristics of Distributed Systems</strong> (Scalability, reliability, availability, efficiency)",
                "<strong>Load Balancing</strong> & <strong>Load Balancing Algorithms</strong>",
                "<strong>Caching</strong> (Eviction policies, read/write methods, invalidation)",
                "<strong>Data Partitioning</strong> (Horizontal, vertical, hybrid)",
                "<strong>Indexes</strong> (Query optimization)",
                "<strong>Proxies</strong> (Forward vs. Reverse proxies)",
                "<strong>Redundancy and Replication</strong> (Synchronous, asynchronous)",
                "<strong>SQL vs. NoSQL</strong>",
                "<strong>CAP Theorem</strong>",
                "<strong>PACELC Theorem</strong> (Latency and consistency extensions)",
                "<strong>Consistent Hashing</strong>",
                "<strong>Long-Polling vs WebSockets vs Server-Sent Events</strong>",
                "<strong>Bloom Filters</strong>",
                "<strong>Quorum</strong> (Consistency models)",
                "<strong>Leader and Follower</strong> (Replication architecture)",
                "<strong>Heartbeat</strong> (Detecting server failures)",
                "<strong>Checksum</strong> (Data integrity)",
                "<strong>Quiz: System Design Basics</strong>"
            ],
            [ // Section 3
                "<strong>Importance of Discussing Trade-offs</strong>",
                "<strong>Strong vs Eventual Consistency</strong>",
                "<strong>Latency vs Throughput</strong>",
                "<strong>ACID vs BASE Properties in Databases</strong>",
                "<strong>Read-Through vs Write-Through Cache</strong>",
                "<strong>Batch Processing vs Stream Processing</strong>",
                "<strong>Load Balancer vs. API Gateway</strong>",
                "<strong>API Gateway vs Direct Service Exposure</strong>",
                "<strong>Proxy vs. Reverse Proxy</strong>",
                "<strong>API Gateway vs. Reverse Proxy</strong>",
                "<strong>SQL vs. NoSQL</strong> (Trade-off comparison)",
                "<strong>Primary-Replica vs Peer-to-Peer Replication</strong>",
                "<strong>Data Compression vs Data Deduplication</strong>",
                "<strong>Server-Side Caching vs Client-Side Caching</strong>",
                "<strong>REST vs RPC</strong>",
                "<strong>Polling vs. Long-Polling vs. WebSockets vs. Webhooks</strong>",
                "<strong>CDN Usage vs Direct Server Serving</strong>",
                "<strong>Serverless Architecture vs Traditional Server-based</strong>",
                "<strong>Stateful vs Stateless Architecture</strong>",
                "<strong>Hybrid Cloud Storage vs All-Cloud Storage</strong>",
                "<strong>Token Bucket vs Leaky Bucket</strong>",
                "<strong>Read Heavy vs Write Heavy System</strong>"
            ],
            [ // Section 4
                "<strong>System Design Interviews - A step by step guide</strong>",
                "<strong>System Design Master Template</strong>",
                "<strong>Designing a URL Shortening Service like TinyURL</strong>",
                "<strong>Designing Pastebin</strong>",
                "<strong>Designing Instagram</strong>",
                "<strong>Designing Dropbox</strong>",
                "<strong>Designing Facebook Messenger</strong>",
                "<strong>Designing Twitter</strong>",
                "<strong>Designing Youtube or Netflix</strong>",
                "<strong>Designing Typeahead Suggestion</strong>",
                "<strong>Designing an API Rate Limiter</strong>",
                "<strong>Designing Twitter Search</strong>",
                "<strong>Designing a Web Crawler</strong>",
                "<strong>Designing Facebook‚Äôs Newsfeed</strong>",
                "<strong>Designing Yelp or Nearby Friends</strong>",
                "<strong>Designing Uber backend</strong>",
                "<strong>Designing Ticketmaster</strong>"
            ]
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('main section ul');
            const LOCAL_STORAGE_KEY = 'hld_study_progress';
            let savedState = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)) || {};
            let totalItems = 0;

            // Render checklist items
            studyData.forEach((sectionItems, sectionIndex) => {
                const targetUl = sections[sectionIndex];
                if(!targetUl) return;

                sectionItems.forEach((itemText, itemIndex) => {
                    const id = `item-${sectionIndex}-${itemIndex}`;
                    totalItems++;

                    const li = document.createElement('li');
                    
                    // Create custom UI for checkbox
                    li.innerHTML = `
                        <label for="${id}" class="flex items-start cursor-pointer group hover:bg-slate-50 p-2 rounded-lg transition-colors -ml-2">
                            <div class="relative flex items-center justify-center mt-1 mr-3">
                                <input type="checkbox" id="${id}" class="custom-checkbox opacity-0 absolute h-5 w-5 cursor-pointer z-10" ${savedState[id] ? 'checked' : ''}>
                                <div class="bg-white border-2 border-slate-300 rounded w-5 h-5 flex flex-shrink-0 justify-center items-center transition-colors group-hover:border-blue-400">
                                    <svg class="hidden w-3 h-3 text-white pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                                </div>
                            </div>
                            <span class="item-text text-slate-700 select-none leading-tight pt-0.5 ${savedState[id] ? 'checked-text' : ''}">
                                ${itemText}
                            </span>
                        </label>
                    `;
                    targetUl.appendChild(li);
                });
            });

            const updateProgress = () => {
                const checkedBoxes = document.querySelectorAll('.custom-checkbox:checked').length;
                const percentage = totalItems === 0 ? 0 : Math.round((checkedBoxes / totalItems) * 100);
                
                document.getElementById('progress-bar').style.width = `${percentage}%`;
                document.getElementById('progress-text').innerText = `${percentage}%`;
            };

            // Event listener for checkboxes
            document.querySelectorAll('.custom-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', (e) => {
                    const id = e.target.id;
                    const textSpan = e.target.closest('label').querySelector('.item-text');
                    
                    if(e.target.checked) {
                        savedState[id] = true;
                        textSpan.classList.add('checked-text');
                    } else {
                        delete savedState[id];
                        textSpan.classList.remove('checked-text');
                    }
                    
                    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(savedState));
                    updateProgress();
                });
            });

            // Initial progress render
            updateProgress();

            // Reset functionality
            document.getElementById('reset-btn').addEventListener('click', () => {
                if(confirm("Are you sure you want to reset all your progress? This cannot be undone.")) {
                    localStorage.removeItem(LOCAL_STORAGE_KEY);
                    savedState = {};
                    document.querySelectorAll('.custom-checkbox').forEach(checkbox => {
                        checkbox.checked = false;
                        checkbox.closest('label').querySelector('.item-text').classList.remove('checked-text');
                    });
                    updateProgress();
                }
            });
        });
    </script>
</body>
</html>
